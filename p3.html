<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Solar Monitoring System</title>
    <!-- plugins:css -->
    <link rel="stylesheet" href="assets/vendors/iconfonts/mdi/css/materialdesignicons.min.css">
	<link rel="stylesheet" href="assets/vendors/iconfonts/font-awesome/css/all.css">
    <link rel="stylesheet" href="assets/vendors/iconfonts/ionicons/css/ionicons.css">
    <link rel="stylesheet" href="assets/vendors/iconfonts/typicons/src/font/typicons.css">
    <link rel="stylesheet" href="assets/vendors/iconfonts/flag-icon-css/css/flag-icon.min.css">
    <link rel="stylesheet" href="assets/vendors/css/vendor.bundle.base.css">
    <link rel="stylesheet" href="assets/vendors/css/vendor.bundle.addons.css">
    <!-- endinject -->
    <!-- plugin css for this page -->
    <!-- End plugin css for this page -->
    <!-- inject:css -->
    <link rel="stylesheet" href="assets/css/shared/style.css">
    <!-- endinject -->
    <!-- Layout styles -->
    <link rel="stylesheet" href="assets/css/monitoring/style.css">
    <!-- End Layout styles -->
	
  </head>
  <body>
    <div class="container-scroller">
      <!-- partial:partials/_navbar.html -->
      <nav class="navbar default-layout col-lg-12 col-12 p-0 fixed-top d-flex flex-row">
        <div class="text-center navbar-brand-wrapper d-flex align-items-top justify-content-center">
          <a class="navbar-brand brand-logo" href="index.html">
            <img src="assets/images/solarXEN.png" alt="logo" /> </a>
          <a class="navbar-brand brand-logo-mini" href="index.html">
            <img src="assets/images/logo-mini.svg" alt="logo" /> </a>
        </div>
        <div class="navbar-menu-wrapper d-flex align-items-center">
          <ul class="navbar-nav">
            <li class="nav-item font-weight-semibold d-none d-lg-block admin-title">관리자</li>
          </ul>
          <ul class="navbar-nav ml-auto">
            <li class="time-info"><i class="far fa-clock"></i>2020.3.19(목) 15:12</li>
			<li class="nav-item dropdown d-none d-xl-inline-block user-dropdown">
              <a class="nav-link dropdown-toggle" id="UserDropdown" href="#" data-toggle="dropdown" aria-expanded="false">
                <img class="img-xs rounded-circle" src="assets/images/faces/face8.jpg" alt="Profile image"> </a>
              <div class="dropdown-menu dropdown-menu-right navbar-dropdown" aria-labelledby="UserDropdown">
                <div class="dropdown-header text-center">
                  <img class="img-md rounded-circle" src="assets/images/faces/face8.jpg" alt="Profile image">
                  <p class="mb-1 mt-3 font-weight-semibold">Allen Moreno</p>
                  <p class="font-weight-light text-muted mb-0">allenmoreno@gmail.com</p>
                </div>
                <a class="dropdown-item">Sign Out<i class="dropdown-item-icon ti-power-off"></i></a>
              </div>
            </li>
			<li class="nav-item dropdown">
              <a class="nav-link count-indicator" id="messageDropdown" href="#" data-toggle="dropdown" aria-expanded="false">
                <i class="fas fa-bell"></i>
                <span class="count">7</span>
              </a>
              <div class="dropdown-menu dropdown-menu-right navbar-dropdown preview-list pb-0" aria-labelledby="messageDropdown">
                <a class="dropdown-item py-3">
                  <p class="mb-0 font-weight-medium float-left">You have 7 unread mails </p>
                  <span class="badge badge-pill badge-primary float-right">View all</span>
                </a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item preview-item">
                  <div class="preview-thumbnail">
                    <img src="assets/images/faces/face10.jpg" alt="image" class="img-sm profile-pic"> </div>
                  <div class="preview-item-content flex-grow py-2">
                    <p class="preview-subject ellipsis font-weight-medium text-dark">Marian Garner </p>
                    <p class="font-weight-light small-text"> The meeting is cancelled </p>
                  </div>
                </a>
                <a class="dropdown-item preview-item">
                  <div class="preview-thumbnail">
                    <img src="assets/images/faces/face12.jpg" alt="image" class="img-sm profile-pic"> </div>
                  <div class="preview-item-content flex-grow py-2">
                    <p class="preview-subject ellipsis font-weight-medium text-dark">David Grey </p>
                    <p class="font-weight-light small-text"> The meeting is cancelled </p>
                  </div>
                </a>
                <a class="dropdown-item preview-item">
                  <div class="preview-thumbnail">
                    <img src="assets/images/faces/face1.jpg" alt="image" class="img-sm profile-pic"> </div>
                  <div class="preview-item-content flex-grow py-2">
                    <p class="preview-subject ellipsis font-weight-medium text-dark">Travis Jenkins </p>
                    <p class="font-weight-light small-text"> The meeting is cancelled </p>
                  </div>
                </a>
              </div>
            </li>
          </ul>
          <button class="navbar-toggler navbar-toggler-right d-lg-none align-self-center" type="button" data-toggle="offcanvas">
            <span class="mdi mdi-menu"></span>
          </button>
        </div>
      </nav>
      <!-- partial -->
      <div class="container-fluid page-body-wrapper">
        <!-- partial:partials/_sidebar.html -->
        <nav class="sidebar sidebar-offcanvas" id="sidebar">
          <ul class="nav">
            <li class="nav-item">
              <a class="nav-link" href="#">
				<i class="fas fa-city icon-sm"></i>
                <span class="menu-title">발전소 선택</span>
              </a>
            </li>
			<li class="nav-item">
              <a class="nav-link select" href="#">
                <i class="fas fa-chart-pie icon-sm"></i>
                <span class="menu-title">대시보드</span>
              </a>
            </li>
            <li class="nav-item">
              <div class="nav-link" >
                <i class="fas fa-solar-panel icon-sm"></i>
                <span class="menu-title">태양광</span>
              </div>
              <div>
                <ul class="nav flex-column sub-menu">
                  <li class="nav-item">
                    <a class="nav-link" href="#">모니터링</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">장치제어</a>
                  </li>
                </ul>
              </div>
            </li>
            <li class="nav-item">
              <div class="nav-link" >
				<i class="fas fa-server icon-sm"></i>
                <span class="menu-title">ESS</span>
              </div>
              <div>
                <ul class="nav flex-column sub-menu">
                  <li class="nav-item">
                    <a class="nav-link" href="#">모니터링</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">장치제어</a>
                  </li>
				  <li class="nav-item">
                    <a class="nav-link" href="#">전력거래</a>
                  </li>
                </ul>
              </div>
            </li>
			<li class="nav-item">
              <div class="nav-link" >
                <i class="fas fa-chart-bar icon-sm"></i>
                <span class="menu-title">통계분석</span>
              </div>
              <div>
                <ul class="nav flex-column sub-menu">
                  <li class="nav-item">
                    <a class="nav-link" href="#">태양광 현황</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">발전수익 현황</a>
                  </li>
                </ul>
              </div>
            </li>
			<li class="nav-item">
              <div class="nav-link" >
                <i class="fas fa-file-alt icon-sm"></i>
                <span class="menu-title">운영</span>
              </div>
              <div>
                <ul class="nav flex-column sub-menu">
                  <li class="nav-item">
                    <a class="nav-link" href="#">월별 보고서</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">장치 이벤트</a>
                  </li>
                </ul>
              </div>
            </li>
			<li class="nav-item">
              <div class="nav-link" >
                <i class="fas fa-cog icon-sm"></i>
                <span class="menu-title">관리</span>
              </div>
              <div>
                <ul class="nav flex-column sub-menu">
                  <li class="nav-item">
                    <a class="nav-link" href="#">사용자 관리</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">발전소 관리</a>
                  </li>
				  <li class="nav-item">
                    <a class="nav-link" href="#">장치 관리</a>
                  </li>
                </ul>
              </div>
            </li>
          </ul>
		  <div class="btm-footer">
			  <div><img src="assets/images/sungchang.png" alt="logo" /></div>
			  <a href="#">이용약관</a>  |  <a href="#">개인정보처리방침</a>
		  </div>
        </nav>
        <!-- partial -->
        <div class="main-panel">
          <div class="content-wrapper">
            <!-- Page Title Header Starts-->
            <div class="row page-title-header">
              <div class="col-12">
                <div class="page-header">
                  <h4 class="page-title">HOME | 대시보드</h4>
				  <div class="reload"><a href="#"><i class="fas fa-sync-alt"></i></a>2020.3.19 15:27:43</div>
                </div>
              </div>
            </div>
            <!-- Page Title Header Ends-->
            <div class="row"><!-- cont01 -->
              <div class="col-md-8 grid-margin stretch-card">
                <div class="card">
                  <div class="card-header"><h4 class="card-title mb-0">날씨</h4></div>
				  <div class="card-body">
					  <div class="row">
						  <div class="col-md-3 weather-area01">
						  	<div><p><img src="assets/images/weather1.png" alt="weather" /></p>흐림</div>
						  </div>
						  <div class="col-md-3">
							  <div class="weather-area02">
								<div><span>온도</span><strong>8.5 <em>℃</em></strong></div>
								<div><span>습도</span><strong>66 <em>%</em></strong></div>
							  </div>
						  </div>
						  <div class="col-md-3">
								<div class="weather-area03">
								 <div><p><img src="assets/images/weather2.png" alt="weather" /></p>바람<br>11km/h</div>
								 <div><p><img src="assets/images/weather3.png" alt="weather" /></p>적설<br>0.1cm</div>
								</div>
						  </div>
						  <div class="col-md-3">
							  <div class="weather-area04">
						  		<div><p><img src="assets/images/weather4.png" alt="weather" /></p>내일</div>
								<div><p><img src="assets/images/weather5.png" alt="weather" /></p>모레</div>
							  </div>
						  </div>
					  </div>
                  </div>
                </div>
              </div>
              <div class="col-md-4 grid-margin stretch-card">
                <div class="card">
                  <div class="card-header"><h4 class="card-title mb-0">설비 동작상태</h4></div>
				  <div class="card-body">
                    <div class="row play-state">
						<div class="col-md-6"><h5><i class="fas fa-hdd"></i>SERVER</h5></div>
						<div class="col-md-6"><span><button class="ok">OK</button><button disabled class="ng">NG</button></span></div>
					</div>
					<div class="row play-state">
						<div class="col-md-6"><h5><i class="fas fa-server"></i>ESS</h5></div>
						<div class="col-md-6"><span><button disabled class="ok">OK</button><button class="ng">NG</button></span></div>
					</div>
                  </div>
                </div>
              </div>
            </div>
			<div class="row"><!-- cont02 -->
				<div class="col-md-12 grid-margin stretch-card">
					<div class="card">
						<div class="card-header"><h4 class="card-title mb-0">태양광</h4></div>
						<div class="card-body">
							<a href="#" class="open-new"><i class="fas fa-external-link-alt"></i></a>
							<div class="row play-state">
								<div class="col-md-4">
									<div id="play" class="canvasCont text-center">
										<div class="total-graph-rate"><strong>100</strong>kw</div>
										<canvas id="playChart" width="250" height="250" style="display: inline-block;"></canvas>
									</div>
									<div class="totle-kwh">
										<div><span>총 현재 출력</span><span><strong>20.01</strong>kWh</span></div>
										<div><span>총 오늘 발전량</span><span><strong>20.01</strong>kWh</span></div>
									</div>
								</div>
								<div class="col-md-8"><canvas id="canvas"></canvas></div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row"><!-- cont03 -->
				<div class="col-md-4 grid-margin stretch-card">
					<div class="card">
						<div class="card-header"><h4 class="card-title mb-0">성창 앞마당</h4></div>
						<div class="card-body text-center">
							<canvas id="linechart" width="*" height="100"></canvas>
							<div class="totle-kwh v1">
								<div><span>현재출력</span><span><strong>20.01</strong>kWh</span></div>
								<div><span>누적발전량</span><span><strong>123,346,789</strong>kWh</span></div>
							</div>
						</div>
					</div>
				</div>
				<div class="col-md-4 grid-margin stretch-card">
					<div class="card">
						<div class="card-header"><h4 class="card-title mb-0">성창 옥상</h4></div>
						<div class="card-body text-center">
							<canvas id="linechart2" width="*" height="100"></canvas>
							<div class="totle-kwh v1">
								<div><span>현재출력</span><span><strong>20.01</strong>kWh</span></div>
								<div><span>누적발전량</span><span><strong>123,346,789</strong>kWh</span></div>
							</div>
						</div>
					</div>
				</div>
				<div class="col-md-4 grid-margin stretch-card">
					<div class="card">
						<div class="card-header"><h4 class="card-title mb-0">가덕</h4></div>
						<div class="card-body text-center">
							<canvas id="linechart3" width="*" height="100"></canvas>
							<div class="totle-kwh v1">
								<div><span>현재출력</span><span><strong>20.01</strong>kWh</span></div>
								<div><span>누적발전량</span><span><strong>123,346,789</strong>kWh</span></div>
							</div>
						</div>
					</div>
				</div>
			</div>
          </div>
          <!-- content-wrapper ends -->
          <!-- partial:partials/_footer.html
          <footer class="footer">
            <div class="container-fluid clearfix text-center">
              <span class="text-muted d-block text-center text-sm-left d-sm-inline-block">Copyright © 2019 Solar Monitoring System. All rights reserved.</span>
            </div>
          </footer>
          <!-- partial -->
        </div>
        <!-- main-panel ends -->
      </div>
      <!-- page-body-wrapper ends -->
    </div>
    <!-- container-scroller -->
    <!-- plugins:js -->
    <script src="assets/vendors/js/vendor.bundle.base.js"></script>
    <script src="assets/vendors/js/vendor.bundle.addons.js"></script>
    <!-- endinject -->
    <!-- Plugin js for this page-->
    <!-- End plugin js for this page-->
    <!-- inject:js -->
    <script src="assets/js/shared/off-canvas.js"></script>
    <script src="assets/js/shared/misc.js"></script>
    <!-- endinject -->
    <!-- Custom js for this page-->
    <script src="assets/js/shared/Chart.min.js"></script>
	<script src="assets/js/shared/utils.js"></script>
    <!-- End custom js for this page-->
	<script>
		//canvas

		var rate1 = 54.35;

		createChart(getData(rate1),'play');



		function getData(rate){
		  var leftover = 100- rate;

		  var data = {

			  datasets: [
				  {
					  data: [rate, leftover],
					  backgroundColor: [
						  "#da1b6c",
						  //"#c0c0c0"
						  "#7f7f7f"
					  ]
				  }]
		  };
		  return data;
		}

		function createChart(data, id){
		  //activate chart.js
			//var ctx = document.getElementById('playPerc');
		  var ctx = document.getElementById(id+"Chart");
			//use data and options
			var playPerc = new Chart(ctx, {
			  type: 'doughnut',
			  data: data,
			  options: {
				  //options defined
				  responsive: false,
				  cutoutPercentage: 80,
				  legend: false,
				  layout: {padding: 10},
				  tooltips: {enabled: false},
				  elements: {arc: { borderWidth: 0}},
				  animation: {onComplete: function() {
					  //this.ctx.fillText("test%", 75, 75, 75);
					  //alert("Finished!");
					  document.getElementById(id).insertAdjacentHTML('beforeend',"<span>"+data.datasets[0].data[0]+"%</span>");
					}
				  }
				}
			});

		}

		//line
		var config = {
		type: 'line',
		data: {
			labels: ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24'],
			datasets: [{
				label: '오늘발전량',
				fill: false,
				backgroundColor: window.chartColors.blue,
				borderColor: window.chartColors.blue,
				data: [
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor()
				],
			}, {

				label: '어제발전량',
				backgroundColor: window.chartColors.red,
				borderColor: window.chartColors.red,
				data: [
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor(),
					randomScalingFactor()
				],
				fill: true,
			}]
		},
		options: {
			responsive: true,
			tooltips: {
				mode: 'index',
				intersect: false,
			},
			hover: {
				mode: 'nearest',
				intersect: true
			},
			scales: {
				xAxes: [{
					display: true,
					scaleLabel: {
						display: true,
					}
				}],
				yAxes: [{
					display: true,
					scaleLabel: {
						display: true,
					}
				}]
			}
		}
	};

	window.onload = function() {
		var ctx = document.getElementById('canvas').getContext('2d');
		window.myLine = new Chart(ctx, config);
	};
	//bar01
		
	var ctx = document.getElementById("linechart");
	var myChart = new Chart(ctx, {
	  type: 'bar',
	  data: {
		labels: ["1", "3", "5", "9", "13", "15", "17", "19", "21", "23", "25"],
		datasets: [{
		  data: [5, 5, 3, 5, 2, 3, 5, 3, 5, 6, 2, 1],
		  backgroundColor: '#ffc000'

		}]
	  },
	  options: {
		legend: false,  
		responsive: true,
		scales: {
		  xAxes: [{
			ticks: {
			  maxRotation: 10,
			  minRotation: 5
			}
		  }],
		  yAxes: [{
			ticks: {
			  beginAtZero: true
			}
		  }]
		}
	  }
	});
	//bar02
		
	var ctx = document.getElementById("linechart2");
	var myChart = new Chart(ctx, {
	  type: 'bar',
	  data: {
		labels: ["1", "3", "5", "9", "13", "15", "17", "19", "21", "23", "25"],
		datasets: [{
		  data: [5, 5, 3, 5, 2, 3, 5, 3, 5, 6, 2, 1],
		  backgroundColor: '#ffc000'

		}]
	  },
	  options: {
		legend: false,  
		responsive: true,
		scales: {
		  xAxes: [{
			ticks: {
			  maxRotation: 10,
			  minRotation: 5
			}
		  }],
		  yAxes: [{
			ticks: {
			  beginAtZero: true
			}
		  }]
		}
	  }
	});
	//bar03
		
	var ctx = document.getElementById("linechart3");
	var myChart = new Chart(ctx, {
	  type: 'bar',
	  data: {
		labels: ["1", "3", "5", "9", "13", "15", "17", "19", "21", "23", "25"],
		datasets: [{
		  data: [5, 5, 3, 5, 2, 3, 5, 3, 5, 6, 2, 1],
		  backgroundColor: '#ffc000'

		}]
	  },
	  options: {
		legend: false,  
		responsive: true,
		scales: {
		  xAxes: [{
			ticks: {
			  maxRotation: 10,
			  minRotation: 5
			}
		  }],
		  yAxes: [{
			ticks: {
			  beginAtZero: true
			}
		  }]
		}
	  }
	});
	</script>
  </body>
</html>