<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Solar Monitoring System</title>
    <!-- plugins:css -->
    <link rel="stylesheet" href="assets/vendors/iconfonts/mdi/css/materialdesignicons.min.css">
	<link rel="stylesheet" href="assets/vendors/iconfonts/font-awesome/css/all.css">
    <link rel="stylesheet" href="assets/vendors/iconfonts/ionicons/css/ionicons.css">
    <link rel="stylesheet" href="assets/vendors/iconfonts/typicons/src/font/typicons.css">
    <link rel="stylesheet" href="assets/vendors/iconfonts/flag-icon-css/css/flag-icon.min.css">
    <link rel="stylesheet" href="assets/vendors/css/vendor.bundle.base.css">
    <!-- endinject -->
    <!-- plugin css for this page -->
    <!-- End plugin css for this page -->
    <!-- inject:css -->
    <link rel="stylesheet" href="assets/css/shared/style.css">
    <!-- endinject -->
    <!-- Layout styles -->
    <link rel="stylesheet" href="assets/css/monitoring/style.css">
    <!-- End Layout styles -->
	
  </head>
  <body>
    <div class="container-scroller">
      <!-- partial:partials/_navbar.html -->
      <nav class="navbar default-layout col-lg-12 col-12 p-0 fixed-top d-flex flex-row">
        <div class="text-center navbar-brand-wrapper d-flex align-items-top justify-content-center">
          <a class="navbar-brand brand-logo" href="index.html">
            <img src="assets/images/solarXEN.png" alt="logo" /> </a>
          <a class="navbar-brand brand-logo-mini" href="index.html">
            <img src="assets/images/logo-mini.svg" alt="logo" /> </a>
        </div>
        <div class="navbar-menu-wrapper d-flex align-items-center">
          <ul class="navbar-nav">
            <li class="nav-item font-weight-semibold d-none d-lg-block admin-title">관리자</li>
          </ul>
          <ul class="navbar-nav ml-auto">
            <li class="time-info"><i class="far fa-clock"></i>2020.3.19(목) 15:12</li>
			<li class="nav-item dropdown d-none d-xl-inline-block user-dropdown">
              <a class="nav-link dropdown-toggle" id="UserDropdown" href="#" data-toggle="dropdown" aria-expanded="false">
                <img class="img-xs rounded-circle" src="assets/images/faces/face8.jpg" alt="Profile image"> </a>
              <div class="dropdown-menu dropdown-menu-right navbar-dropdown" aria-labelledby="UserDropdown">
                <div class="dropdown-header text-center">
                  <img class="img-md rounded-circle" src="assets/images/faces/face8.jpg" alt="Profile image">
                  <p class="mb-1 mt-3 font-weight-semibold">Allen Moreno</p>
                  <p class="font-weight-light text-muted mb-0">allenmoreno@gmail.com</p>
                </div>
                <a class="dropdown-item">Sign Out<i class="dropdown-item-icon ti-power-off"></i></a>
              </div>
            </li>
			<li class="nav-item dropdown">
              <a class="nav-link count-indicator" id="messageDropdown" href="#" data-toggle="dropdown" aria-expanded="false">
                <i class="fas fa-bell"></i>
                <span class="count">7</span>
              </a>
              <div class="dropdown-menu dropdown-menu-right navbar-dropdown preview-list pb-0" aria-labelledby="messageDropdown">
                <a class="dropdown-item py-3">
                  <p class="mb-0 font-weight-medium float-left">You have 7 unread mails </p>
                  <span class="badge badge-pill badge-primary float-right">View all</span>
                </a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item preview-item">
                  <div class="preview-thumbnail">
                    <img src="assets/images/faces/face10.jpg" alt="image" class="img-sm profile-pic"> </div>
                  <div class="preview-item-content flex-grow py-2">
                    <p class="preview-subject ellipsis font-weight-medium text-dark">Marian Garner </p>
                    <p class="font-weight-light small-text"> The meeting is cancelled </p>
                  </div>
                </a>
                <a class="dropdown-item preview-item">
                  <div class="preview-thumbnail">
                    <img src="assets/images/faces/face12.jpg" alt="image" class="img-sm profile-pic"> </div>
                  <div class="preview-item-content flex-grow py-2">
                    <p class="preview-subject ellipsis font-weight-medium text-dark">David Grey </p>
                    <p class="font-weight-light small-text"> The meeting is cancelled </p>
                  </div>
                </a>
                <a class="dropdown-item preview-item">
                  <div class="preview-thumbnail">
                    <img src="assets/images/faces/face1.jpg" alt="image" class="img-sm profile-pic"> </div>
                  <div class="preview-item-content flex-grow py-2">
                    <p class="preview-subject ellipsis font-weight-medium text-dark">Travis Jenkins </p>
                    <p class="font-weight-light small-text"> The meeting is cancelled </p>
                  </div>
                </a>
              </div>
            </li>
          </ul>
          <button class="navbar-toggler navbar-toggler-right d-lg-none align-self-center" type="button" data-toggle="offcanvas">
            <span class="mdi mdi-menu"></span>
          </button>
        </div>
      </nav>
      <!-- partial -->
      <div class="container-fluid page-body-wrapper">
        <!-- partial:partials/_sidebar.html -->
        <nav class="sidebar sidebar-offcanvas" id="sidebar">
          <ul class="nav">
            <li class="nav-item">
              <a class="nav-link" href="#">
				<i class="fas fa-city icon-sm"></i>
                <span class="menu-title">발전소 선택</span>
              </a>
            </li>
			<li class="nav-item">
              <a class="nav-link" href="#">
                <i class="fas fa-chart-pie icon-sm"></i>
                <span class="menu-title">대시보드</span>
              </a>
            </li>
            <li class="nav-item">
              <div class="nav-link" >
                <i class="fas fa-solar-panel icon-sm"></i>
                <span class="menu-title">태양광</span>
              </div>
              <div>
                <ul class="nav flex-column sub-menu">
                  <li class="nav-item select">
                    <a class="nav-link" href="#">모니터링</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">장치제어</a>
                  </li>
                </ul>
              </div>
            </li>
            <li class="nav-item">
              <div class="nav-link" >
				<i class="fas fa-server icon-sm"></i>
                <span class="menu-title">ESS</span>
              </div>
              <div>
                <ul class="nav flex-column sub-menu">
                  <li class="nav-item">
                    <a class="nav-link" href="#">모니터링</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">장치제어</a>
                  </li>
				  <li class="nav-item">
                    <a class="nav-link" href="#">전력거래</a>
                  </li>
                </ul>
              </div>
            </li>
			<li class="nav-item">
              <div class="nav-link" >
                <i class="fas fa-chart-bar icon-sm"></i>
                <span class="menu-title">통계분석</span>
              </div>
              <div>
                <ul class="nav flex-column sub-menu">
                  <li class="nav-item">
                    <a class="nav-link" href="#">태양광 현황</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">발전수익 현황</a>
                  </li>
                </ul>
              </div>
            </li>
			<li class="nav-item">
              <div class="nav-link" >
                <i class="fas fa-file-alt icon-sm"></i>
                <span class="menu-title">운영</span>
              </div>
              <div>
                <ul class="nav flex-column sub-menu">
                  <li class="nav-item">
                    <a class="nav-link" href="#">월별 보고서</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">장치 이벤트</a>
                  </li>
                </ul>
              </div>
            </li>
			<li class="nav-item">
              <div class="nav-link" >
                <i class="fas fa-cog icon-sm"></i>
                <span class="menu-title">관리</span>
              </div>
              <div>
                <ul class="nav flex-column sub-menu">
                  <li class="nav-item">
                    <a class="nav-link" href="#">사용자 관리</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">발전소 관리</a>
                  </li>
				  <li class="nav-item">
                    <a class="nav-link" href="#">장치 관리</a>
                  </li>
                </ul>
              </div>
            </li>
          </ul>
		  <div class="btm-footer">
			  <div><img src="assets/images/sungchang.png" alt="logo" /></div>
			  <a href="#">이용약관</a>  |  <a href="#">개인정보처리방침</a>
		  </div>
        </nav>
        <!-- partial -->
        <div class="main-panel">
          <div class="content-wrapper">
            <!-- Page Title Header Starts-->
            <div class="row page-title-header">
              <div class="col-12">
                <div class="page-header">
                  <h4 class="page-title">HOME | ESS | 모니터링</h4>
				  <div class="reload"><a href="#"><i class="fas fa-sync-alt"></i></a>2020.3.19 15:27:43</div>
                </div>
              </div>
            </div>
            <!-- Page Title Header Ends-->
            <div class="row"><!-- cont01 -->
              <div class="col-md-6 grid-margin stretch-card">
                <div class="card">
                  <div class="card-header"><h4 class="card-title mb-0">PCS</h4></div>
				  <div class="card-body">
                    <div class="row operation">
						<div class="col-md-4"><h5 class="mt-4">운전상태</h5><div class="text-center mt-3"><i class="fas fa-server" style="font-size: 100px"></i></div></div>
						<div class="col-md-8">
							<div class="text-right setting-switch">
								<span>동작</span>
								<label class="switch ">
								  <input type="checkbox" class="success">
								  <span class="slider round"></span>
								</label>
								<span>정지</span>
							</div>
							<div class="operation-state">
								<a href="#" class="select">대기</a>
								<a href="#">충전</a>
								<a href="#">방전</a>
								<a href="#">정지</a>
							</div>
						</div>
					</div>
					<div class="mt-5 mb-5">
						<table class="table v5">
							<colgroup>
								<col width="30%">
								<col width="*">
							</colgroup>
							<tbody>
							<tr>
								<th>전압</th>
								<td><strong>368</strong>V</td>
							</tr>
							<tr>
								<th>전류</th>
								<td><strong>368</strong>A</td>
							</tr>
							<tr>
								<th>전력</th>
								<td><strong>368</strong>W</td>
							</tr>
							</tbody>
						</table>
					</div>
					<div><canvas id="line-chart1"></canvas></div> 
                  </div>
                </div>
              </div>
              <div class="col-md-6 grid-margin stretch-card">
                <div class="card">
                  <div class="card-header"><h4 class="card-title mb-0">BMS</h4></div>
				  <div class="card-body">
                    <div class="row">
						<div class="col-md-6">
							<div id="play1" class="canvasCont text-center d-chart">
								<div class="total-graph-rate v1"><strong>SOC</strong></div>
								<canvas id="play1Chart" width="250" height="250" style="display: inline-block;"></canvas>
							</div>
						</div>
						<div class="col-md-6">
							<div id="play2" class="canvasCont text-center d-chart">
								<div class="total-graph-rate v1"><strong>SOH</strong></div>
								<canvas id="play2Chart" width="250" height="250" style="display: inline-block;"></canvas>
							</div>
						</div>
					</div>
					<div class="mt-5 mb-5">
						<table class="table v5">
							<colgroup>
								<col width="30%">
								<col width="*">
							</colgroup>
							<tbody>
							<tr>
								<th>전압</th>
								<td><strong>368</strong>V</td>
							</tr>
							<tr>
								<th>전류</th>
								<td><strong>368</strong>A</td>
							</tr>
							<tr>
								<th>전력</th>
								<td><strong>368</strong>W</td>
							</tr>
							</tbody>
						</table>
					</div>
					<div><canvas id="line-chart2"></canvas></div> 
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- content-wrapper ends -->
          <!-- partial:partials/_footer.html
          <footer class="footer">
            <div class="container-fluid clearfix text-center">
              <span class="text-muted d-block text-center text-sm-left d-sm-inline-block">Copyright © 2019 Solar Monitoring System. All rights reserved.</span>
            </div>
          </footer>
          <!-- partial -->
        </div>
        <!-- main-panel ends -->
      </div>
      <!-- page-body-wrapper ends -->
    </div>
    <!-- container-scroller -->
    <!-- plugins:js -->
    <script src="assets/vendors/js/vendor.bundle.base.js"></script>
    <!-- endinject -->
    <!-- Plugin js for this page-->
    <!-- End plugin js for this page-->
    <!-- inject:js -->
    <script src="assets/js/shared/off-canvas.js"></script>
    <script src="assets/js/shared/misc.js"></script>
    <!-- endinject -->
    <!-- Custom js for this page-->
    <script src="assets/js/shared/Chart.min.js"></script>
	<script src="assets/js/shared/utils.js"></script>
    <!-- End custom js for this page-->
	<script>
		//canvas

		var rate1 = 54.35;
		var rate2 = 54.35;

		createChart(getData(rate1),'play1');
		createChart(getData(rate2),'play2');


		function getData(rate){
		  var leftover = 100- rate;

		  var data = {

			  datasets: [
				  {
					  data: [rate, leftover],
					  backgroundColor: [
						  "#f672a7",
						  //"#c0c0c0"
						  "#7f7f7f"
					  ]
				  }]
		  };
		  return data;
		}

		function createChart(data, id){
		  //activate chart.js
			//var ctx = document.getElementById('playPerc');
		  var ctx = document.getElementById(id+"Chart");
			//use data and options
			var playPerc = new Chart(ctx, {
			  type: 'doughnut',
			  data: data,
			  options: {
				  //options defined
				  responsive: false,
				  cutoutPercentage: 80,
				  legend: false,
				  layout: {padding: 10},
				  tooltips: {enabled: false},
				  elements: {arc: { borderWidth: 0}},
				  animation: {onComplete: function() {
					  //this.ctx.fillText("test%", 75, 75, 75);
					  //alert("Finished!");
					  document.getElementById(id).insertAdjacentHTML('beforeend',"<span>"+data.datasets[0].data[0]+"%</span>");
					}
				  }
				}
			});

		}

		//line
		new Chart(document.getElementById("line-chart1"), {
        type: 'line',
        data: {
            labels: [1500,1600,1700,1750,1800,1850,1900,1950,1999,2050],
            datasets: [{
                data: [86,114,106,106,107,111,133,221,783,2478],
                label: "전압",
                borderColor: "#ff7c00",
                fill: false
            }, {
                data: [282,350,411,502,635,809,947,1402,3700,5267],
                label: "전류",
                borderColor: "#35322f",
                fill: false
            }
            ]
        },
        options: {
            title: {
                display: false,
            }
        }
    });
		//line
		new Chart(document.getElementById("line-chart2"), {
        type: 'line',
        data: {
            labels: [1500,1600,1700,1750,1800,1850,1900,1950,1999,2050],
            datasets: [{
                data: [86,114,106,106,107,111,133,221,783,2478],
                label: "전압",
                borderColor: "#ff7c00",
                fill: false
            }, {
                data: [282,350,411,502,635,809,947,1402,3700,5267],
                label: "전류",
                borderColor: "#35322f",
                fill: false
            }
            ]
        },
        options: {
            title: {
                display: false,
            }
        }
    });
	</script>
  </body>
</html>